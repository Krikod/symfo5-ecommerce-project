{% extends 'base.html.twig' %}

{% block title %}Page de {{ product.name }}{% endblock %}

{% block body %}

    {# https://bootswatch.com/sketchy/ -> breadcrumb #}
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ path('homepage') }}">Accueil</a></li>
        <li class="breadcrumb-item"><a href="{{ path('product_category', {'slug': product.category.slug}) }}">{{ product.category.name }}</a></li>
        <li class="breadcrumb-item active">{{ product.name }}</li>
    </ol>

    <h1>{{ product.name }} ({{ product.price|amount }})</h1>

    <div class="row">

        {#Une photo#}
        <div class="col-4">
            <img src="{{ product.mainPicture }}" alt="Image de {{ product.name }}" class="img-fluid">
        </div>


        <div class="col">
            <span class="badge badge-secondary">
                {{ product.category.name }}
            </span>
            <p>
                {{ product.shortDescription }}
            </p>
            <a href="{{ path('cart_add', {'id': product.id}) }}" class="btn btn-outline-success">
                <i class="btn btn-secondary"></i>
                Ajouter au panier
            </a>
            {% if is_granted('ROLE_ADMIN') %}
                <a class="btn btn-warning" href="{{ path('product_edit', {'id': product.id}) }}">Editer ce produit</a>
                <a class="btn btn-outline-danger" href="{{ path('product_delete', {'id': product.id}) }}">
                    {#todo icons !!!#}
                    {#<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>#}
                    Supprimer</a>
            {% endif %}
        </div>
    </div>
    {# Upload multiple #}
    <div class="col-4">
        {% for image in product.images %}
            <div>
                <img src="{{ asset('/uploads/product_image/'~ image.name) }}" width="400" alt="Image de {{ product.name }}"
                     class="img-fluid">
            </div>
        {% endfor %}
    </div>

{% endblock %}